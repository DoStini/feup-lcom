<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPERATION M.I.N.I.X.: C:/Virtualization/Setup/MINIX-LCOM/shared/g01/proj/system/pickups/pickups.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPERATION M.I.N.I.X.
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pickups_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pickups.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pickups_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pickups_8h.html">pickups.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;../lib/errors.h&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;../lib/sprites.h&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;../../data/sprites/pickups/pickup_sprites.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno"><a class="line" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">    6</a></span>&#160;<a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a> = NULL;</div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="pickups_8c.html#a1f75a1d4b466be2d4ca4f2dee6f5aa3b">    7</a></span>&#160;<a class="code" href="structcollision__table.html">collision_table_t</a> <a class="code" href="pickups_8c.html#a1f75a1d4b466be2d4ca4f2dee6f5aa3b">collision_table</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">    8</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a> = 0;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="pickups_8c.html#a90d32589ed0e062d0847d317665c5f8c">   10</a></span>&#160;int (<a class="code" href="pickups_8c.html#a90d32589ed0e062d0847d317665c5f8c">init_ammo_anims</a>)(<a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a>, <span class="keywordtype">int</span> ammo_index) {</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="structanimated__sprite.html">animated_sprite_t</a> * anim = &amp;(<a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aa434a0ab51bc3ad121d4c3936c412c69">animation</a>);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordflow">if</span>(ammo_index &gt;= 3) ammo_index = 0; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <a class="code" href="structsprite.html">sprite_t</a> * ptr = ammos[ammo_index];</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a1c5481a911736ddda0cee79d6ad55d48">cur_frame</a> = 0;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a> = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structsprite.html">sprite_t</a> *));</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">if</span>(anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a>[0] = ptr;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a1261e5689c317a550221aec9ba85417d">frames_per_sprite</a> = 1;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a471696e4c68e49412e22b66aaeec29ba">num_fig</a> = 1;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#aea0d55ed5eb92b131b710a6bb0585782">sprite</a> = ptr;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">return</span> OK;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="pickups_8c.html#af4e742befb30e3e2bdac0aeda6a8d0d1">   26</a></span>&#160;int (<a class="code" href="pickups_8c.html#af4e742befb30e3e2bdac0aeda6a8d0d1">init_medi_anims</a>)(<a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a>) {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="structanimated__sprite.html">animated_sprite_t</a> * anim = &amp;(<a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aa434a0ab51bc3ad121d4c3936c412c69">animation</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a1c5481a911736ddda0cee79d6ad55d48">cur_frame</a> = 0;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a> = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structsprite.html">sprite_t</a> *));</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span>(anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a>[0] = media;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a1261e5689c317a550221aec9ba85417d">frames_per_sprite</a> = 1;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a471696e4c68e49412e22b66aaeec29ba">num_fig</a> = 1;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#aea0d55ed5eb92b131b710a6bb0585782">sprite</a> = media;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">return</span> OK;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="pickups_8c.html#a30309441e8fd7bd97947d4c6480ccd5c">   40</a></span>&#160;int (<a class="code" href="pickups_8c.html#a30309441e8fd7bd97947d4c6480ccd5c">init_armor_anims</a>)(<a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a>) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="structanimated__sprite.html">animated_sprite_t</a> * anim = &amp;(<a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aa434a0ab51bc3ad121d4c3936c412c69">animation</a>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a1c5481a911736ddda0cee79d6ad55d48">cur_frame</a> = 0;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a> = malloc(2*<span class="keyword">sizeof</span>(<a class="code" href="structsprite.html">sprite_t</a> *));</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span>(anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a>[0] = arm1a;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">frames</a>[1] = arm1b;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a1261e5689c317a550221aec9ba85417d">frames_per_sprite</a> = 10;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#a471696e4c68e49412e22b66aaeec29ba">num_fig</a> = 2;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    anim-&gt;<a class="code" href="structanimated__sprite.html#aea0d55ed5eb92b131b710a6bb0585782">sprite</a> = arm1a;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> OK;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="pickups_8c.html#ad72ce0df9552628ba1dfc0337ba660e7">   58</a></span>&#160;<span class="keyword">static</span> bool (<a class="code" href="pickups_8c.html#ad72ce0df9552628ba1dfc0337ba660e7">pickup_ammo</a>)(<a class="code" href="structplayer__info.html">player_info_t</a> * <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>, <span class="keywordtype">void</span> * pickup_det) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="structammo.html">ammo_t</a> * <a class="code" href="structammo.html">ammo</a> = (<a class="code" href="structammo.html">ammo_t</a> *) pickup_det;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> = 0; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> &lt; <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ad943e3663b5c7772d106b05ba4dc564b">inventory_size</a>; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>++) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="structgun__instance.html">gun_instance_t</a> * gun_inst = &amp;(<a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#aa7522add2673d78d1233fc3023a7d619">guns</a>[<a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>]);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span>(gun_inst-&gt;<a class="code" href="structgun__instance.html#aa771f392325e0ebf939dbbfefcb47104">gun</a>.<a class="code" href="structgun.html#ab5d9e352f640aff39753df4385d95e1d">ammo_index</a> == <a class="code" href="structammo.html">ammo</a>-&gt;<a class="code" href="structammo.html#a66fd613c6f825a9b857e18c39f1ce14a">ammo_index</a>) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordflow">if</span>(gun_inst-&gt;<a class="code" href="structgun__instance.html#a34f2dc075863a580911c1efc606dc222">curr_packets</a> &gt;= gun_inst-&gt;<a class="code" href="structgun__instance.html#aa771f392325e0ebf939dbbfefcb47104">gun</a>.<a class="code" href="structgun.html#adc088a782934cc61fb7b596465c4cbed">max_packets</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            gun_inst-&gt;<a class="code" href="structgun__instance.html#a34f2dc075863a580911c1efc606dc222">curr_packets</a> += <a class="code" href="structammo.html">ammo</a>-&gt;<a class="code" href="structammo.html#a6712da42db4eb5158179738da4401dc9">packets</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">if</span>(gun_inst-&gt;<a class="code" href="structgun__instance.html#a34f2dc075863a580911c1efc606dc222">curr_packets</a> &gt; gun_inst-&gt;<a class="code" href="structgun__instance.html#aa771f392325e0ebf939dbbfefcb47104">gun</a>.<a class="code" href="structgun.html#adc088a782934cc61fb7b596465c4cbed">max_packets</a>) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                gun_inst-&gt;<a class="code" href="structgun__instance.html#a34f2dc075863a580911c1efc606dc222">curr_packets</a> = gun_inst-&gt;<a class="code" href="structgun__instance.html#aa771f392325e0ebf939dbbfefcb47104">gun</a>.<a class="code" href="structgun.html#adc088a782934cc61fb7b596465c4cbed">max_packets</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="group__pickups.html#ga507bd0b13917a59cf8ba20a1b7bf3a28">   81</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structpickup__vtable.html">pickup_vtable_t</a> <a class="code" href="group__pickups.html#ga507bd0b13917a59cf8ba20a1b7bf3a28">AMMO</a>[] = {{ &amp;<a class="code" href="pickups_8c.html#ad72ce0df9552628ba1dfc0337ba660e7">pickup_ammo</a> }};</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="group__pickups.html#ga3ab719ad557476cedea1f35cfb64879e">   83</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="group__pickups.html#ga3ab719ad557476cedea1f35cfb64879e">add_ammo</a>(<a class="code" href="structvector.html">vector_t</a> * position, <span class="keywordtype">double</span> radius, uint16_t ammo_index, uint16_t packets) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="structpickup.html">pickup_t</a> new_pickup;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structammo.html">ammo_t</a> * <a class="code" href="structammo.html">ammo</a> = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structammo.html">ammo_t</a>));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structammo.html">ammo</a> == NULL) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="structammo.html">ammo</a>-&gt;<a class="code" href="structammo.html#a66fd613c6f825a9b857e18c39f1ce14a">ammo_index</a> = ammo_index;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="structammo.html">ammo</a>-&gt;<a class="code" href="structammo.html#a6712da42db4eb5158179738da4401dc9">packets</a> = packets;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="pickups_8c.html#a90d32589ed0e062d0847d317665c5f8c">init_ammo_anims</a>(&amp;new_pickup, ammo_index);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    new_pickup.<a class="code" href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">picked_up</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    new_pickup.<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a> = *position;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    new_pickup.<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#a3f67c53b80389c5f53961936edba04c9">radius</a> = radius;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    new_pickup.<a class="code" href="structpickup.html#a0627949b62e18af0c5a45db6b7ffabfa">pickup_details</a> = <a class="code" href="structammo.html">ammo</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    new_pickup.<a class="code" href="structpickup.html#ac68fe9cb6779723b1f892679556d4fc5">vtable</a> = <a class="code" href="group__pickups.html#ga507bd0b13917a59cf8ba20a1b7bf3a28">AMMO</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__pickups.html#ga46369825145dfd4934c290b913a536da">add_pickup</a>(&amp;new_pickup);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="pickups_8c.html#aaeb4aa73f13d938a388e78ef44a3b279">  103</a></span>&#160;<span class="keyword">static</span> bool (<a class="code" href="pickups_8c.html#aaeb4aa73f13d938a388e78ef44a3b279">pickup_medkit</a>)(<a class="code" href="structplayer__info.html">player_info_t</a> * <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>, <span class="keywordtype">void</span> * pickup_det) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="structmedkit.html">medkit_t</a> * <a class="code" href="structmedkit.html">medkit</a> = (<a class="code" href="structmedkit.html">medkit_t</a> *) pickup_det;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae448fb16f537982185a0c5e8db56bdc6">health</a> &gt;= <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae7fb049f4b5173a202e774b3eb3e64e4">max_health</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae448fb16f537982185a0c5e8db56bdc6">health</a> += <a class="code" href="structmedkit.html">medkit</a>-&gt;<a class="code" href="structmedkit.html#ac78fc29c874c0e4fce7b41a68c793515">health</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae448fb16f537982185a0c5e8db56bdc6">health</a> &gt;= <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae7fb049f4b5173a202e774b3eb3e64e4">max_health</a>) <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae448fb16f537982185a0c5e8db56bdc6">health</a> = <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#ae7fb049f4b5173a202e774b3eb3e64e4">max_health</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="pickups_8c.html#ac98d11855f123974a196c9d495056e46">  118</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structpickup__vtable.html">pickup_vtable_t</a> <a class="code" href="pickups_8c.html#ac98d11855f123974a196c9d495056e46">MEDKIT</a>[] = {{ &amp;<a class="code" href="pickups_8c.html#aaeb4aa73f13d938a388e78ef44a3b279">pickup_medkit</a> }};</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="group__pickups.html#ga9d19e12ba7f1ebc57e93a87df3ff5f88">  120</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="group__pickups.html#ga9d19e12ba7f1ebc57e93a87df3ff5f88">add_medkit</a>(<a class="code" href="structvector.html">vector_t</a> * position, <span class="keywordtype">double</span> radius, uint16_t health) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="structpickup.html">pickup_t</a> new_pickup;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="structmedkit.html">medkit_t</a> * <a class="code" href="structmedkit.html">medkit</a> = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structmedkit.html">medkit_t</a>));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structmedkit.html">medkit</a> == NULL) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="structmedkit.html">medkit</a>-&gt;<a class="code" href="structmedkit.html#ac78fc29c874c0e4fce7b41a68c793515">health</a> = health;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="pickups_8c.html#af4e742befb30e3e2bdac0aeda6a8d0d1">init_medi_anims</a>(&amp;new_pickup);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    new_pickup.<a class="code" href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">picked_up</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    new_pickup.<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a> = *position;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    new_pickup.<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#a3f67c53b80389c5f53961936edba04c9">radius</a> = radius;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    new_pickup.<a class="code" href="structpickup.html#a0627949b62e18af0c5a45db6b7ffabfa">pickup_details</a> = <a class="code" href="structmedkit.html">medkit</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    new_pickup.<a class="code" href="structpickup.html#ac68fe9cb6779723b1f892679556d4fc5">vtable</a> = <a class="code" href="pickups_8c.html#ac98d11855f123974a196c9d495056e46">MEDKIT</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__pickups.html#ga46369825145dfd4934c290b913a536da">add_pickup</a>(&amp;new_pickup);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="pickups_8c.html#a7c0a9fb57ebfb57584b7b08ba284cac7">  139</a></span>&#160;<span class="keyword">static</span> bool (<a class="code" href="pickups_8c.html#a7c0a9fb57ebfb57584b7b08ba284cac7">pickup_armor</a>)(<a class="code" href="structplayer__info.html">player_info_t</a> * <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>, <span class="keywordtype">void</span> * pickup_det) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="structarmor.html">armor_t</a> * <a class="code" href="structarmor.html">armor</a> = (<a class="code" href="structarmor.html">armor_t</a> *) pickup_det;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a9a0fc011b15e16961710c8af3980e9b3">armor</a> &gt;= <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a6eb0e21ce98b8484f6bdebee6de9bcf4">max_armor</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a9a0fc011b15e16961710c8af3980e9b3">armor</a> += <a class="code" href="structarmor.html">armor</a>-&gt;<a class="code" href="structarmor.html#a6e23c3cca074b7c35e743e3b0ab8d621">armor</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a9a0fc011b15e16961710c8af3980e9b3">armor</a> &gt;= <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a6eb0e21ce98b8484f6bdebee6de9bcf4">max_armor</a>) <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a9a0fc011b15e16961710c8af3980e9b3">armor</a> = <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a6eb0e21ce98b8484f6bdebee6de9bcf4">max_armor</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="pickups_8c.html#aa4d38f28308d94253466c5bd80ce9804">  154</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structpickup__vtable.html">pickup_vtable_t</a> <a class="code" href="pickups_8c.html#aa4d38f28308d94253466c5bd80ce9804">ARMOR</a>[] = {{ &amp;<a class="code" href="pickups_8c.html#a7c0a9fb57ebfb57584b7b08ba284cac7">pickup_armor</a> }};</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="group__pickups.html#ga15f7d776fe78a5003bb7f4c4a7202776">  156</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="group__pickups.html#ga15f7d776fe78a5003bb7f4c4a7202776">add_armor</a>(<a class="code" href="structvector.html">vector_t</a> * position, <span class="keywordtype">double</span> radius, uint16_t armor_quantity) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="structpickup.html">pickup_t</a> new_pickup;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="structarmor.html">armor_t</a> * <a class="code" href="structarmor.html">armor</a> = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structarmor.html">armor_t</a>));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structarmor.html">armor</a> == NULL) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="structarmor.html">armor</a>-&gt;<a class="code" href="structarmor.html#a6e23c3cca074b7c35e743e3b0ab8d621">armor</a> = armor_quantity;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="pickups_8c.html#a30309441e8fd7bd97947d4c6480ccd5c">init_armor_anims</a>(&amp;new_pickup);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    new_pickup.<a class="code" href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">picked_up</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    new_pickup.<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a> = *position;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    new_pickup.<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#a3f67c53b80389c5f53961936edba04c9">radius</a> = radius;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    new_pickup.<a class="code" href="structpickup.html#a0627949b62e18af0c5a45db6b7ffabfa">pickup_details</a> = <a class="code" href="structarmor.html">armor</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    new_pickup.<a class="code" href="structpickup.html#ac68fe9cb6779723b1f892679556d4fc5">vtable</a> = <a class="code" href="pickups_8c.html#aa4d38f28308d94253466c5bd80ce9804">ARMOR</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__pickups.html#ga46369825145dfd4934c290b913a536da">add_pickup</a>(&amp;new_pickup);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="group__pickups.html#gade1e28cd9e6df604a234f2c9ac2b1ffb">  172</a></span>&#160;int (<a class="code" href="group__pickups.html#gade1e28cd9e6df604a234f2c9ac2b1ffb">init_collision_table</a>)(<span class="keywordtype">size_t</span> width, <span class="keywordtype">size_t</span> height) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a> = height;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a> = width;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a> = (<a class="code" href="structcollision__list.html">collision_line_t</a> *) malloc(height * <span class="keyword">sizeof</span>(<a class="code" href="structcollision__list.html">collision_line_t</a>));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> row = 0; row &lt; height; row++) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row] = (<a class="code" href="structcollision__list.html">collision_list_t</a> *) malloc(width * <span class="keyword">sizeof</span>(<a class="code" href="structcollision__list.html">collision_list_t</a>));</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row] == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> col = 0; col &lt; width; col++) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row][col].<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a> = 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row][col].<a class="code" href="structcollision__list.html#a3b8a45763aea9e5b71635ccbfdf2cc80">max_indexes</a> = 0;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row][col].<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a> = NULL;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> OK;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="group__pickups.html#ga170436708ffc58fcb7a8c0f402a7599c">  191</a></span>&#160;<a class="code" href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a> (<a class="code" href="group__pickups.html#ga170436708ffc58fcb7a8c0f402a7599c">update_pickups</a>)() {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> = 1; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> &lt; <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>++) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="sprites_8c.html#a3925e0fad2d1644ef177c141bf347f54">update_anim</a>(&amp;(<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>[<a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>].animation));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="group__pickups.html#ga6101c5a21ab305c9507cb1952952b21c">  197</a></span>&#160;<a class="code" href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a> (<a class="code" href="group__pickups.html#ga6101c5a21ab305c9507cb1952952b21c">free_collision_table</a>)() {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> row = 0; row &lt; <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a>; row++) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> col = 0; col &lt; <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a>; col++) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row][col].<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                free(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row][col].<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        free((<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row]));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    free(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">// ONLY WORKS WITH MAX CIRCLE RADIUS OF 1!!!</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="pickups_8c.html#a1f16da8c2949c6e5af9b821d2f8a0678">  210</a></span>&#160;int (<a class="code" href="pickups_8c.html#a1f16da8c2949c6e5af9b821d2f8a0678">add_collision</a>)(<a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a>, <span class="keywordtype">size_t</span> <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a>) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="structcircle.html">circle_t</a> * collider = &amp;(<a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="structrectangle.html">rectangle_t</a> rect;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordtype">size_t</span> table_index;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="structpair.html">pair_t</a> start_coord = {(int) collider-&gt;<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a>.<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>-1, (<span class="keywordtype">int</span>) collider-&gt;<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a>.<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a>-1};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="structpair.html">pair_t</a> end_coord = {(int) collider-&gt;<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a>.<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>+1, (<span class="keywordtype">int</span>) collider-&gt;<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a>.<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a>+1};</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span>(start_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> &lt; 0) start_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> = 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span>(end_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> &gt;= (<span class="keywordtype">long</span>)<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a>) end_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> = <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a> - 1;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span>(start_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> &lt; 0) start_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> = 0;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span>(end_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> &gt;= (<span class="keywordtype">long</span>)<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a>) end_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> = <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a> - 1;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">long</span> x = start_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>; x &lt;= end_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>; x++) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">long</span> y = start_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a>; y &lt;= end_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a>; y++) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            rect.<a class="code" href="structrectangle.html#a85a435fbb50faba30743ebef05e63c95">left_corner</a>.<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> = x; rect.<a class="code" href="structrectangle.html#a85a435fbb50faba30743ebef05e63c95">left_corner</a>.<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a> = y;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            rect.<a class="code" href="structrectangle.html#ad12fc34ce789bce6c8a05d8a17138534">height</a> = rect.<a class="code" href="structrectangle.html#a2474a5474cbff19523a51eb1de01cda4">width</a> = 1;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="group__utils.html#ga636e50c87bfc905b35ec485d29f65c7c">check_circle_rect_collision</a>(collider, &amp;rect)) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <a class="code" href="structcollision__list.html">collision_list_t</a> * list = &amp;(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[y][x]);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                table_index = list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">if</span>(list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a> == 0) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a> = (<span class="keywordtype">size_t</span> *) malloc(<a class="code" href="group__pickups.html#gaec7b3d2d61dba30694a755e9ad02ba37">COLLISION_LIST_ALLOC_STEP</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    <span class="keywordflow">if</span>(list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    list-&gt;<a class="code" href="structcollision__list.html#a3b8a45763aea9e5b71635ccbfdf2cc80">max_indexes</a> += 5;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a> &gt;= list-&gt;<a class="code" href="structcollision__list.html#a3b8a45763aea9e5b71635ccbfdf2cc80">max_indexes</a>) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a> = realloc((<span class="keywordtype">void</span> *)list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>, (list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a>+<a class="code" href="group__pickups.html#gaec7b3d2d61dba30694a755e9ad02ba37">COLLISION_LIST_ALLOC_STEP</a>) * <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <span class="keywordflow">if</span>(list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a> == NULL) <span class="keywordflow">return</span> <a class="code" href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    list-&gt;<a class="code" href="structcollision__list.html#a3b8a45763aea9e5b71635ccbfdf2cc80">max_indexes</a> += 5;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>[table_index] = <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a>;  </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a>++;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> OK;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="pickups_8c.html#a1275c0c885fd08b7bce164c6f8ef5aeb">  250</a></span>&#160;<a class="code" href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a> (<a class="code" href="pickups_8c.html#a1275c0c885fd08b7bce164c6f8ef5aeb">remove_collision</a>)(<a class="code" href="structvector.html">vector_t</a> * position, <span class="keywordtype">size_t</span> <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a>) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="structpair.html">pair_t</a> start_coord = {(int) position-&gt;<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>-1, (<span class="keywordtype">int</span>) position-&gt;<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a>-1};</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="structpair.html">pair_t</a> end_coord = {(int) position-&gt;<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>+1, (<span class="keywordtype">int</span>) position-&gt;<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a>+1};</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span>(start_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> &lt; 0) start_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span>(end_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> &gt;= (<span class="keywordtype">long</span>)<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a>) end_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> = <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a> - 1;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>(start_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> &lt; 0) start_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> = 0;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span>(end_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> &gt;= (<span class="keywordtype">long</span>)<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a>) end_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a> = <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a> - 1;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">long</span> x = start_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>; x &lt;= end_coord.<a class="code" href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>; x++) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">long</span> y = start_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a>; y &lt;= end_coord.<a class="code" href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a>; y++) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="structcollision__list.html">collision_list_t</a> * list = &amp;(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[y][x]);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> table_idx = 0; table_idx &lt; list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a>; table_idx++) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="keywordflow">if</span>(list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>[table_idx] == <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a>) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>[table_idx] = 0;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="group__pickups.html#ga3f9c10d31107f1923e5b650625b6cfbb">  272</a></span>&#160;size_t (<a class="code" href="group__pickups.html#ga3f9c10d31107f1923e5b650625b6cfbb">check_player_pickup_collision</a>)(<a class="code" href="structplayer__info.html">player_info_t</a> * <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a> = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">double</span> smallest_distance = -1;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">double</span> distance;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="structcoordinate.html">coordinate_t</a> player_coord = {(int) <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a932c3d7be08ebf518db10436d0210427">position</a>.<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>, (<span class="keywordtype">int</span>) <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a932c3d7be08ebf518db10436d0210427">position</a>.<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a>};</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="structvector.html">vector_t</a> player_pos = <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>-&gt;<a class="code" href="structplayer__info.html#a932c3d7be08ebf518db10436d0210427">position</a>; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span>(player_pos.<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> &lt; 0 || player_pos.<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a> &lt; 0 || player_pos.<a class="code" href="structvector.html#ab927965981178aa1fba979a37168db2a">y</a> &gt;= <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a> || player_pos.<a class="code" href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> &gt;= <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a>) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="structcollision__list.html">collision_list_t</a> *list = &amp;(<a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[player_coord.<a class="code" href="structcoordinate.html#a0ed0570522cf833eca882c685b03bb52">y</a>][player_coord.<a class="code" href="structcoordinate.html#a87857867bf6060412af12a2d5cca6efd">x</a>]);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> t_index = 0; t_index &lt; list-&gt;<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a>; t_index++) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a> = &amp;(<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>[list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>[t_index]]);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="comment">// Circle collision from https://www.lazyfoo.net/tutorials/SDL/29_circular_collision_detection/index.php</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span>((distance = <a class="code" href="group__utils.html#ga59fb492e30882202c6383ad08c51daba">dist_positions_squared</a>(&amp;player_pos, &amp;(<a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a>))) &lt;= <a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#a3f67c53b80389c5f53961936edba04c9">radius</a> * <a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#a3f67c53b80389c5f53961936edba04c9">radius</a>) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">if</span>(smallest_distance == -1 || distance &lt; smallest_distance) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                smallest_distance = distance;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a> = list-&gt;<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>[t_index];</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="group__pickups.html#gac8588a40ed5942245242363f13a698f5">  297</a></span>&#160;<a class="code" href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a> (<a class="code" href="group__pickups.html#gac8588a40ed5942245242363f13a698f5">print_table</a>)() {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> row = 0; row &lt; <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">height</a>; row++) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> col = 0; col &lt; <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">width</a>; col++) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="structcollision__list.html">collision_list_t</a> clist = <a class="code" href="structcollision__table.html">collision_table</a>.<a class="code" href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">table</a>[row][col];</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            printf( <span class="stringliteral">&quot;[&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> = 0; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> &lt; clist.<a class="code" href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">num_of_indexes</a>; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>++) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                printf(<span class="stringliteral">&quot;%d,&quot;</span>, clist.<a class="code" href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">indexes</a>[<a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>]);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            printf( <span class="stringliteral">&quot;],&quot;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="group__pickups.html#ga46369825145dfd4934c290b913a536da">  312</a></span>&#160;size_t (<a class="code" href="group__pickups.html#ga46369825145dfd4934c290b913a536da">add_pickup</a>)(<a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a>) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="structpickup.html">pickup_t</a> * ptr;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a> == 0) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a> = (<a class="code" href="structpickup.html">pickup_t</a> *) malloc(2*<span class="keyword">sizeof</span>(<a class="code" href="structpickup.html">pickup_t</a>)); <span class="comment">// index 0 has no pickups, used for dummy pickup, indexes start at 1</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a> == NULL) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>++;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    } </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a> = realloc((<span class="keywordtype">void</span> *)<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>, (<a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>+1) * <span class="keyword">sizeof</span>(<a class="code" href="structpickup.html">pickup_t</a>));</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordtype">size_t</span> index = <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="pickups_8c.html#a1f16da8c2949c6e5af9b821d2f8a0678">add_collision</a>(<a class="code" href="structpickup.html">pickup</a>, index);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span>(err) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">picked_up</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    ptr = <a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a> + <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>++;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    *ptr = *<a class="code" href="structpickup.html">pickup</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> index;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">  336</a></span>&#160;bool (<a class="code" href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a>)(<a class="code" href="structplayer__info.html">player_info_t</a> * <a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>, <span class="keywordtype">unsigned</span> index) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">bool</span> picked_up = <a class="code" href="group__pickups.html#ga7e410cbba27f1c0301e602c0fb99fe48">pickup_handler</a>(<a class="code" href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a>, &amp;<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>[index]);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span>(picked_up) <a class="code" href="group__pickups.html#gabaad2397c96cecc428bf70438ceae16c">delete_pickup</a>(index);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> picked_up;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="group__pickups.html#ga85aff01de0ff99901f64fafb814b92b8">  344</a></span>&#160;<a class="code" href="group__pickups.html#ga1dc5fb02746a94165889840b1623cff7">pickup_t</a> (<a class="code" href="group__pickups.html#ga85aff01de0ff99901f64fafb814b92b8">get_pickup</a>)(<span class="keywordtype">unsigned</span> index) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span>(index &gt;= <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="structpickup.html">pickup_t</a> dummy;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        dummy.<a class="code" href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">picked_up</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> dummy;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>[index];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="group__pickups.html#gacc28ea0690a0ea5a1dfd9e66e935ed5a">  355</a></span>&#160;size_t (<a class="code" href="group__pickups.html#gacc28ea0690a0ea5a1dfd9e66e935ed5a">get_pickups_size</a>)() {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="group__pickups.html#gabaad2397c96cecc428bf70438ceae16c">  359</a></span>&#160;<a class="code" href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a> (<a class="code" href="group__pickups.html#gabaad2397c96cecc428bf70438ceae16c">delete_pickup</a>)(<span class="keywordtype">unsigned</span> index) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span>(index &gt;= <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="structpickup.html">pickup_t</a> * <a class="code" href="structpickup.html">pickup</a> = (<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a> + index);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">picked_up</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="pickups_8c.html#a1275c0c885fd08b7bce164c6f8ef5aeb">remove_collision</a>(&amp;(<a class="code" href="structpickup.html">pickup</a>-&gt;<a class="code" href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">collider</a>.<a class="code" href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">center</a>), index);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="group__pickups.html#ga8b2feb9d1ad2422ef992e479a8450f1f">  368</a></span>&#160;<a class="code" href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a> (<a class="code" href="group__pickups.html#ga8b2feb9d1ad2422ef992e479a8450f1f">free_pickups</a>)() {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> = 1; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a> &lt; <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a>; <a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>++) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        free(<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>[<a class="code" href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a>].pickup_details);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a> = 0;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    free(<a class="code" href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructcollision__table_html_a7e10f181827536c74ff932e7c42e37e1"><div class="ttname"><a href="structcollision__table.html#a7e10f181827536c74ff932e7c42e37e1">collision_table::table</a></div><div class="ttdeci">collision_line_t * table</div><div class="ttdoc">Array of collision lines.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00039">pickups.h:39</a></div></div>
<div class="ttc" id="apickups_8c_html_a30309441e8fd7bd97947d4c6480ccd5c"><div class="ttname"><a href="pickups_8c.html#a30309441e8fd7bd97947d4c6480ccd5c">init_armor_anims</a></div><div class="ttdeci">int() init_armor_anims(pickup_t *pickup)</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00040">pickups.c:40</a></div></div>
<div class="ttc" id="astructpickup__vtable_html"><div class="ttname"><a href="structpickup__vtable.html">pickup_vtable</a></div><div class="ttdoc">Struct that represents a virtual table with 'virtual'-like functions.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00049">pickups.h:49</a></div></div>
<div class="ttc" id="astructcollision__list_html_a2ea9a6c9201709cf9ede09c7be6023b8"><div class="ttname"><a href="structcollision__list.html#a2ea9a6c9201709cf9ede09c7be6023b8">collision_list::num_of_indexes</a></div><div class="ttdeci">size_t num_of_indexes</div><div class="ttdoc">Number of pickups in that list.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00026">pickups.h:26</a></div></div>
<div class="ttc" id="astructpickup_html_a0627949b62e18af0c5a45db6b7ffabfa"><div class="ttname"><a href="structpickup.html#a0627949b62e18af0c5a45db6b7ffabfa">pickup::pickup_details</a></div><div class="ttdeci">void * pickup_details</div><div class="ttdoc">pointer to a struct that has information to be used in the pickup handler function.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00068">pickups.h:68</a></div></div>
<div class="ttc" id="astructplayer__info_html_a932c3d7be08ebf518db10436d0210427"><div class="ttname"><a href="structplayer__info.html#a932c3d7be08ebf518db10436d0210427">player_info::position</a></div><div class="ttdeci">vector_t position</div><div class="ttdoc">Position of player.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00042">player.h:42</a></div></div>
<div class="ttc" id="astructcircle_html_a3f67c53b80389c5f53961936edba04c9"><div class="ttname"><a href="structcircle.html#a3f67c53b80389c5f53961936edba04c9">circle::radius</a></div><div class="ttdeci">double radius</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00058">data_types.h:58</a></div></div>
<div class="ttc" id="apickups_8c_html_a1f16da8c2949c6e5af9b821d2f8a0678"><div class="ttname"><a href="pickups_8c.html#a1f16da8c2949c6e5af9b821d2f8a0678">add_collision</a></div><div class="ttdeci">int() add_collision(pickup_t *pickup, size_t pickup_index)</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00210">pickups.c:210</a></div></div>
<div class="ttc" id="astructammo_html_a66fd613c6f825a9b857e18c39f1ce14a"><div class="ttname"><a href="structammo.html#a66fd613c6f825a9b857e18c39f1ce14a">ammo::ammo_index</a></div><div class="ttdeci">__uint16_t ammo_index</div><div class="ttdoc">the type of ammo.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00082">pickups.h:82</a></div></div>
<div class="ttc" id="apickups_8c_html_a90d32589ed0e062d0847d317665c5f8c"><div class="ttname"><a href="pickups_8c.html#a90d32589ed0e062d0847d317665c5f8c">init_ammo_anims</a></div><div class="ttdeci">int() init_ammo_anims(pickup_t *pickup, int ammo_index)</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00010">pickups.c:10</a></div></div>
<div class="ttc" id="astructcircle_html_acbc3a800e6ff22275fc1272f57a25f5e"><div class="ttname"><a href="structcircle.html#acbc3a800e6ff22275fc1272f57a25f5e">circle::center</a></div><div class="ttdeci">vector_t center</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00057">data_types.h:57</a></div></div>
<div class="ttc" id="astructarmor_html"><div class="ttname"><a href="structarmor.html">armor</a></div><div class="ttdoc">Armor stuct.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00096">pickups.h:96</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga3f9c10d31107f1923e5b650625b6cfbb"><div class="ttname"><a href="group__pickups.html#ga3f9c10d31107f1923e5b650625b6cfbb">check_player_pickup_collision</a></div><div class="ttdeci">size_t() check_player_pickup_collision(player_info_t *player)</div><div class="ttdoc">Checks if a player can pick up an item.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00272">pickups.c:272</a></div></div>
<div class="ttc" id="anetworking_8c_html_acdb350d92d168b8aa9b50de0c584b083"><div class="ttname"><a href="networking_8c.html#acdb350d92d168b8aa9b50de0c584b083">idx</a></div><div class="ttdeci">static __uint8_t idx</div><div class="ttdef"><b>Definition:</b> <a href="networking_8c_source.html#l00008">networking.c:8</a></div></div>
<div class="ttc" id="agroup__pickups_html_gaec7b3d2d61dba30694a755e9ad02ba37"><div class="ttname"><a href="group__pickups.html#gaec7b3d2d61dba30694a755e9ad02ba37">COLLISION_LIST_ALLOC_STEP</a></div><div class="ttdeci">#define COLLISION_LIST_ALLOC_STEP</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00015">pickups.h:15</a></div></div>
<div class="ttc" id="astructcollision__table_html_a02bed8590a9ddf520e58a060059518ec"><div class="ttname"><a href="structcollision__table.html#a02bed8590a9ddf520e58a060059518ec">collision_table::width</a></div><div class="ttdeci">size_t width</div><div class="ttdoc">Width and height of table.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00041">pickups.h:41</a></div></div>
<div class="ttc" id="apickups_8h_html"><div class="ttname"><a href="pickups_8h.html">pickups.h</a></div></div>
<div class="ttc" id="astructpair_html_a3162ada50d1df39e0f0555ea3d60dea1"><div class="ttname"><a href="structpair.html#a3162ada50d1df39e0f0555ea3d60dea1">pair::x</a></div><div class="ttdeci">long x</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00033">data_types.h:33</a></div></div>
<div class="ttc" id="astructarmor_html_a6e23c3cca074b7c35e743e3b0ab8d621"><div class="ttname"><a href="structarmor.html#a6e23c3cca074b7c35e743e3b0ab8d621">armor::armor</a></div><div class="ttdeci">__uint16_t armor</div><div class="ttdoc">Armor to be added to the player.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00098">pickups.h:98</a></div></div>
<div class="ttc" id="astructpickup_html_aee5b6c15b89073f7ebb88e2db67ca9f7"><div class="ttname"><a href="structpickup.html#aee5b6c15b89073f7ebb88e2db67ca9f7">pickup::collider</a></div><div class="ttdeci">circle_t collider</div><div class="ttdoc">Circle collider to detect if the player is within its range.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00062">pickups.h:62</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga507bd0b13917a59cf8ba20a1b7bf3a28"><div class="ttname"><a href="group__pickups.html#ga507bd0b13917a59cf8ba20a1b7bf3a28">AMMO</a></div><div class="ttdeci">pickup_vtable_t AMMO[]</div><div class="ttdoc">sets the virtual table for ammunition pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00081">pickups.c:81</a></div></div>
<div class="ttc" id="astructpickup_html_ac68fe9cb6779723b1f892679556d4fc5"><div class="ttname"><a href="structpickup.html#ac68fe9cb6779723b1f892679556d4fc5">pickup::vtable</a></div><div class="ttdeci">pickup_vtable_t * vtable</div><div class="ttdoc">Function associated to that pickup.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00058">pickups.h:58</a></div></div>
<div class="ttc" id="astructpair_html"><div class="ttname"><a href="structpair.html">pair</a></div><div class="ttdoc">Structure that represents a pair of long values.</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00032">data_types.h:32</a></div></div>
<div class="ttc" id="agroup__pickups_html_gabaad2397c96cecc428bf70438ceae16c"><div class="ttname"><a href="group__pickups.html#gabaad2397c96cecc428bf70438ceae16c">delete_pickup</a></div><div class="ttdeci">void() delete_pickup(unsigned index)</div><div class="ttdoc">Removes a pickup from the collision table and ignores it in the pickup array.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00359">pickups.c:359</a></div></div>
<div class="ttc" id="apickups_8c_html_a7c0a9fb57ebfb57584b7b08ba284cac7"><div class="ttname"><a href="pickups_8c.html#a7c0a9fb57ebfb57584b7b08ba284cac7">pickup_armor</a></div><div class="ttdeci">static _Bool() pickup_armor(player_info_t *player, void *pickup_det)</div><div class="ttdoc">Pickup handler for armor pickups. Overrides virtual function.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00139">pickups.c:139</a></div></div>
<div class="ttc" id="astructcollision__list_html_a6de8a412854867846fcd42abb3e6462f"><div class="ttname"><a href="structcollision__list.html#a6de8a412854867846fcd42abb3e6462f">collision_list::indexes</a></div><div class="ttdeci">size_t * indexes</div><div class="ttdoc">a list of pickup indexes</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00024">pickups.h:24</a></div></div>
<div class="ttc" id="astructcoordinate_html_a87857867bf6060412af12a2d5cca6efd"><div class="ttname"><a href="structcoordinate.html#a87857867bf6060412af12a2d5cca6efd">coordinate::x</a></div><div class="ttdeci">__uint16_t x</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00026">data_types.h:26</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga9d19e12ba7f1ebc57e93a87df3ff5f88"><div class="ttname"><a href="group__pickups.html#ga9d19e12ba7f1ebc57e93a87df3ff5f88">add_medkit</a></div><div class="ttdeci">size_t add_medkit(vector_t *position, double radius, __uint16_t health)</div><div class="ttdoc">Adds medkit to the pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00120">pickups.c:120</a></div></div>
<div class="ttc" id="astructcircle_html"><div class="ttname"><a href="structcircle.html">circle</a></div><div class="ttdoc">Structure that defines a circle according to its center and radius.</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00056">data_types.h:56</a></div></div>
<div class="ttc" id="astructanimated__sprite_html_a471696e4c68e49412e22b66aaeec29ba"><div class="ttname"><a href="structanimated__sprite.html#a471696e4c68e49412e22b66aaeec29ba">animated_sprite::num_fig</a></div><div class="ttdeci">int num_fig</div><div class="ttdoc">Number of sprites.</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8h_source.html#l00039">sprites.h:39</a></div></div>
<div class="ttc" id="astructcoordinate_html_a0ed0570522cf833eca882c685b03bb52"><div class="ttname"><a href="structcoordinate.html#a0ed0570522cf833eca882c685b03bb52">coordinate::y</a></div><div class="ttdeci">__uint16_t y</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00026">data_types.h:26</a></div></div>
<div class="ttc" id="astructpickup_html"><div class="ttname"><a href="structpickup.html">pickup</a></div><div class="ttdoc">Base class for pickups, has a virtual table for calling functions for different types of pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00056">pickups.h:56</a></div></div>
<div class="ttc" id="apickups_8c_html_aa4d38f28308d94253466c5bd80ce9804"><div class="ttname"><a href="pickups_8c.html#aa4d38f28308d94253466c5bd80ce9804">ARMOR</a></div><div class="ttdeci">pickup_vtable_t ARMOR[]</div><div class="ttdoc">sets the virtual table for armor pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00154">pickups.c:154</a></div></div>
<div class="ttc" id="apickups_8c_html_a6ca7be9ffd407addd2dfb5d0147c84f4"><div class="ttname"><a href="pickups_8c.html#a6ca7be9ffd407addd2dfb5d0147c84f4">pickups_size</a></div><div class="ttdeci">size_t pickups_size</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00008">pickups.c:8</a></div></div>
<div class="ttc" id="astructplayer__info_html"><div class="ttname"><a href="structplayer__info.html">player_info</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00038">player.h:38</a></div></div>
<div class="ttc" id="astructgun__instance_html_aa771f392325e0ebf939dbbfefcb47104"><div class="ttname"><a href="structgun__instance.html#aa771f392325e0ebf939dbbfefcb47104">gun_instance::gun</a></div><div class="ttdeci">gun_t gun</div><div class="ttdoc">Copy of gun.</div><div class="ttdef"><b>Definition:</b> <a href="gun_8h_source.html#l00081">gun.h:81</a></div></div>
<div class="ttc" id="astructmedkit_html"><div class="ttname"><a href="structmedkit.html">medkit</a></div><div class="ttdoc">Medkit struct.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00088">pickups.h:88</a></div></div>
<div class="ttc" id="astructammo_html_a6712da42db4eb5158179738da4401dc9"><div class="ttname"><a href="structammo.html#a6712da42db4eb5158179738da4401dc9">ammo::packets</a></div><div class="ttdeci">__uint16_t packets</div><div class="ttdoc">the packets this pickup has.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00078">pickups.h:78</a></div></div>
<div class="ttc" id="agroup__pickups_html_gade1e28cd9e6df604a234f2c9ac2b1ffb"><div class="ttname"><a href="group__pickups.html#gade1e28cd9e6df604a234f2c9ac2b1ffb">init_collision_table</a></div><div class="ttdeci">int() init_collision_table(size_t width, size_t height)</div><div class="ttdoc">Initializes the pickup collision table.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00172">pickups.c:172</a></div></div>
<div class="ttc" id="astructpair_html_a04ee6b20e6d3476ab1f51397993cfeef"><div class="ttname"><a href="structpair.html#a04ee6b20e6d3476ab1f51397993cfeef">pair::y</a></div><div class="ttdeci">long y</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00033">data_types.h:33</a></div></div>
<div class="ttc" id="astructsprite_html"><div class="ttname"><a href="structsprite.html">sprite</a></div><div class="ttdoc">Custom sprite structre.</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00072">data_types.h:72</a></div></div>
<div class="ttc" id="astructcollision__table_html_a02afeaaf8574e7a78d6b466ff2695052"><div class="ttname"><a href="structcollision__table.html#a02afeaaf8574e7a78d6b466ff2695052">collision_table::height</a></div><div class="ttdeci">size_t height</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00041">pickups.h:41</a></div></div>
<div class="ttc" id="astructpickup_html_a2500fa3f5cdbc45b07786175240b27f2"><div class="ttname"><a href="structpickup.html#a2500fa3f5cdbc45b07786175240b27f2">pickup::picked_up</a></div><div class="ttdeci">_Bool picked_up</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00060">pickups.h:60</a></div></div>
<div class="ttc" id="astructvector_html_af88b946fb90d5f08b5fb740c70e98c10"><div class="ttname"><a href="structvector.html#af88b946fb90d5f08b5fb740c70e98c10">vector::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00018">data_types.h:18</a></div></div>
<div class="ttc" id="astructanimated__sprite_html_a1c5481a911736ddda0cee79d6ad55d48"><div class="ttname"><a href="structanimated__sprite.html#a1c5481a911736ddda0cee79d6ad55d48">animated_sprite::cur_frame</a></div><div class="ttdeci">int cur_frame</div><div class="ttdoc">Current frame of the animation.</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8h_source.html#l00037">sprites.h:37</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga6101c5a21ab305c9507cb1952952b21c"><div class="ttname"><a href="group__pickups.html#ga6101c5a21ab305c9507cb1952952b21c">free_collision_table</a></div><div class="ttdeci">void() free_collision_table()</div><div class="ttdoc">Frees resources used up by the collision table.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00197">pickups.c:197</a></div></div>
<div class="ttc" id="astructpickup_html_aa434a0ab51bc3ad121d4c3936c412c69"><div class="ttname"><a href="structpickup.html#aa434a0ab51bc3ad121d4c3936c412c69">pickup::animation</a></div><div class="ttdeci">animated_sprite_t animation</div><div class="ttdoc">Animation of the pickup.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00064">pickups.h:64</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga170436708ffc58fcb7a8c0f402a7599c"><div class="ttname"><a href="group__pickups.html#ga170436708ffc58fcb7a8c0f402a7599c">update_pickups</a></div><div class="ttdeci">void() update_pickups()</div><div class="ttdoc">Updates pickup animations.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00191">pickups.c:191</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga8b2feb9d1ad2422ef992e479a8450f1f"><div class="ttname"><a href="group__pickups.html#ga8b2feb9d1ad2422ef992e479a8450f1f">free_pickups</a></div><div class="ttdeci">void() free_pickups()</div><div class="ttdoc">Frees resources used up by the pickup array.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00368">pickups.c:368</a></div></div>
<div class="ttc" id="astructrectangle_html_a85a435fbb50faba30743ebef05e63c95"><div class="ttname"><a href="structrectangle.html#a85a435fbb50faba30743ebef05e63c95">rectangle::left_corner</a></div><div class="ttdeci">vector_t left_corner</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00065">data_types.h:65</a></div></div>
<div class="ttc" id="astructrectangle_html"><div class="ttname"><a href="structrectangle.html">rectangle</a></div><div class="ttdoc">Strcuture that defines a rectangle according to the top left corner position and its dimensions.</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00064">data_types.h:64</a></div></div>
<div class="ttc" id="agroup__utils_html_gacc882160d690baecacee2d96afe2c7ec"><div class="ttname"><a href="group__utils.html#gacc882160d690baecacee2d96afe2c7ec">void</a></div><div class="ttdeci">void(rotate_vec(vector_t *vec, double ang))</div><div class="ttdoc">Rotates a vector counter clockwise by ang degrees Formula discovered in https://en....</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00139">utils.c:139</a></div></div>
<div class="ttc" id="astructvector_html"><div class="ttname"><a href="structvector.html">vector</a></div><div class="ttdoc">Structure that simulates a 2D vector.</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00017">data_types.h:17</a></div></div>
<div class="ttc" id="astructanimated__sprite_html_a1261e5689c317a550221aec9ba85417d"><div class="ttname"><a href="structanimated__sprite.html#a1261e5689c317a550221aec9ba85417d">animated_sprite::frames_per_sprite</a></div><div class="ttdeci">int frames_per_sprite</div><div class="ttdoc">Number of frames per sprite.</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8h_source.html#l00035">sprites.h:35</a></div></div>
<div class="ttc" id="aerrors_8h_html_a860374d95ec512c9d11404d593880db8"><div class="ttname"><a href="errors_8h.html#a860374d95ec512c9d11404d593880db8">BAD_ALLOC</a></div><div class="ttdeci">#define BAD_ALLOC</div><div class="ttdef"><b>Definition:</b> <a href="errors_8h_source.html#l00005">errors.h:5</a></div></div>
<div class="ttc" id="agroup__pickups_html_gac8588a40ed5942245242363f13a698f5"><div class="ttname"><a href="group__pickups.html#gac8588a40ed5942245242363f13a698f5">print_table</a></div><div class="ttdeci">void() print_table()</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00297">pickups.c:297</a></div></div>
<div class="ttc" id="asprites_8c_html_a3925e0fad2d1644ef177c141bf347f54"><div class="ttname"><a href="sprites_8c.html#a3925e0fad2d1644ef177c141bf347f54">update_anim</a></div><div class="ttdeci">_Bool() update_anim(animated_sprite_t *anim)</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8c_source.html#l00434">sprites.c:434</a></div></div>
<div class="ttc" id="astructcollision__list_html_a3b8a45763aea9e5b71635ccbfdf2cc80"><div class="ttname"><a href="structcollision__list.html#a3b8a45763aea9e5b71635ccbfdf2cc80">collision_list::max_indexes</a></div><div class="ttdeci">size_t max_indexes</div><div class="ttdoc">Max number of pickups in that list.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00028">pickups.h:28</a></div></div>
<div class="ttc" id="astructplayer__info_html_ae448fb16f537982185a0c5e8db56bdc6"><div class="ttname"><a href="structplayer__info.html#ae448fb16f537982185a0c5e8db56bdc6">player_info::health</a></div><div class="ttdeci">int health</div><div class="ttdoc">Health of the player.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00050">player.h:50</a></div></div>
<div class="ttc" id="astructplayer__info_html_a6eb0e21ce98b8484f6bdebee6de9bcf4"><div class="ttname"><a href="structplayer__info.html#a6eb0e21ce98b8484f6bdebee6de9bcf4">player_info::max_armor</a></div><div class="ttdeci">int max_armor</div><div class="ttdoc">Max armor of the player.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00056">player.h:56</a></div></div>
<div class="ttc" id="apickups_8c_html_ac98d11855f123974a196c9d495056e46"><div class="ttname"><a href="pickups_8c.html#ac98d11855f123974a196c9d495056e46">MEDKIT</a></div><div class="ttdeci">pickup_vtable_t MEDKIT[]</div><div class="ttdoc">sets the virtual table for medkit pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00118">pickups.c:118</a></div></div>
<div class="ttc" id="astructrectangle_html_a2474a5474cbff19523a51eb1de01cda4"><div class="ttname"><a href="structrectangle.html#a2474a5474cbff19523a51eb1de01cda4">rectangle::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00066">data_types.h:66</a></div></div>
<div class="ttc" id="aenemy__controller_8c_html_adcb98d0c211d19f75f39515b41c5e373"><div class="ttname"><a href="enemy__controller_8c.html#adcb98d0c211d19f75f39515b41c5e373">player</a></div><div class="ttdeci">player_info_t player</div><div class="ttdef"><b>Definition:</b> <a href="player_8c_source.html#l00013">player.c:13</a></div></div>
<div class="ttc" id="agroup__pickups_html_gacc28ea0690a0ea5a1dfd9e66e935ed5a"><div class="ttname"><a href="group__pickups.html#gacc28ea0690a0ea5a1dfd9e66e935ed5a">get_pickups_size</a></div><div class="ttdeci">size_t() get_pickups_size()</div><div class="ttdoc">Gets the number of pickups + 1.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00355">pickups.c:355</a></div></div>
<div class="ttc" id="apickups_8c_html_a1275c0c885fd08b7bce164c6f8ef5aeb"><div class="ttname"><a href="pickups_8c.html#a1275c0c885fd08b7bce164c6f8ef5aeb">remove_collision</a></div><div class="ttdeci">void() remove_collision(vector_t *position, size_t pickup_index)</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00250">pickups.c:250</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga85aff01de0ff99901f64fafb814b92b8"><div class="ttname"><a href="group__pickups.html#ga85aff01de0ff99901f64fafb814b92b8">get_pickup</a></div><div class="ttdeci">pickup_t() get_pickup(unsigned index)</div><div class="ttdoc">Gets a copy of a pickup from the pickup array given its index.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00344">pickups.c:344</a></div></div>
<div class="ttc" id="astructplayer__info_html_aa7522add2673d78d1233fc3023a7d619"><div class="ttname"><a href="structplayer__info.html#aa7522add2673d78d1233fc3023a7d619">player_info::guns</a></div><div class="ttdeci">gun_instance_t * guns</div><div class="ttdoc">Array of guns.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00058">player.h:58</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga15f7d776fe78a5003bb7f4c4a7202776"><div class="ttname"><a href="group__pickups.html#ga15f7d776fe78a5003bb7f4c4a7202776">add_armor</a></div><div class="ttdeci">size_t add_armor(vector_t *position, double radius, __uint16_t armor_quantity)</div><div class="ttdoc">Adds armor to the pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00156">pickups.c:156</a></div></div>
<div class="ttc" id="astructgun__instance_html"><div class="ttname"><a href="structgun__instance.html">gun_instance</a></div><div class="ttdoc">Structure that describes an active gun.</div><div class="ttdef"><b>Definition:</b> <a href="gun_8h_source.html#l00079">gun.h:79</a></div></div>
<div class="ttc" id="astructcollision__list_html"><div class="ttname"><a href="structcollision__list.html">collision_list</a></div><div class="ttdoc">Represents a list of collisions (of pickups) in a certain position of a map.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00020">pickups.h:20</a></div></div>
<div class="ttc" id="astructgun_html_ab5d9e352f640aff39753df4385d95e1d"><div class="ttname"><a href="structgun.html#ab5d9e352f640aff39753df4385d95e1d">gun::ammo_index</a></div><div class="ttdeci">int ammo_index</div><div class="ttdoc">Type of ammo used.</div><div class="ttdef"><b>Definition:</b> <a href="gun_8h_source.html#l00066">gun.h:66</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga1dc5fb02746a94165889840b1623cff7"><div class="ttname"><a href="group__pickups.html#ga1dc5fb02746a94165889840b1623cff7">pickup_t</a></div><div class="ttdeci">struct pickup pickup_t</div><div class="ttdoc">Base class for pickups, has a virtual table for calling functions for different types of pickups.</div></div>
<div class="ttc" id="agroup__utils_html_ga636e50c87bfc905b35ec485d29f65c7c"><div class="ttname"><a href="group__utils.html#ga636e50c87bfc905b35ec485d29f65c7c">check_circle_rect_collision</a></div><div class="ttdeci">_Bool check_circle_rect_collision(circle_t *circle, rectangle_t *rect)</div><div class="ttdoc">Checks if a circle and a rectangle collide. SOURCE: https://www.lazyfoo.net/tutorials/SDL/29_circular...</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00093">utils.c:93</a></div></div>
<div class="ttc" id="astructanimated__sprite_html"><div class="ttname"><a href="structanimated__sprite.html">animated_sprite</a></div><div class="ttdoc">Struct that describes an animated sprite.</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8h_source.html#l00031">sprites.h:31</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga7e410cbba27f1c0301e602c0fb99fe48"><div class="ttname"><a href="group__pickups.html#ga7e410cbba27f1c0301e602c0fb99fe48">pickup_handler</a></div><div class="ttdeci">static _Bool pickup_handler(player_info_t *player, pickup_t *pickup)</div><div class="ttdoc">Function wrapper for calling a pickup handler based on its type using the chosen virtual table.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00108">pickups.h:108</a></div></div>
<div class="ttc" id="astructanimated__sprite_html_aea0d55ed5eb92b131b710a6bb0585782"><div class="ttname"><a href="structanimated__sprite.html#aea0d55ed5eb92b131b710a6bb0585782">animated_sprite::sprite</a></div><div class="ttdeci">sprite_t * sprite</div><div class="ttdoc">Current sprite of.</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8h_source.html#l00033">sprites.h:33</a></div></div>
<div class="ttc" id="apickups_8c_html_ad72ce0df9552628ba1dfc0337ba660e7"><div class="ttname"><a href="pickups_8c.html#ad72ce0df9552628ba1dfc0337ba660e7">pickup_ammo</a></div><div class="ttdeci">static _Bool() pickup_ammo(player_info_t *player, void *pickup_det)</div><div class="ttdoc">Pickup handler for ammo pickups. Overrides virtual function.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00058">pickups.c:58</a></div></div>
<div class="ttc" id="apickups_8c_html_a1f75a1d4b466be2d4ca4f2dee6f5aa3b"><div class="ttname"><a href="pickups_8c.html#a1f75a1d4b466be2d4ca4f2dee6f5aa3b">collision_table</a></div><div class="ttdeci">collision_table_t collision_table</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00007">pickups.c:7</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga46369825145dfd4934c290b913a536da"><div class="ttname"><a href="group__pickups.html#ga46369825145dfd4934c290b913a536da">add_pickup</a></div><div class="ttdeci">size_t() add_pickup(pickup_t *pickup)</div><div class="ttdoc">Adds pickup to pickup array and sets its position in the collision table.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00312">pickups.c:312</a></div></div>
<div class="ttc" id="astructcollision__table_html"><div class="ttname"><a href="structcollision__table.html">collision_table</a></div><div class="ttdoc">Collision table.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00037">pickups.h:37</a></div></div>
<div class="ttc" id="astructplayer__info_html_ae7fb049f4b5173a202e774b3eb3e64e4"><div class="ttname"><a href="structplayer__info.html#ae7fb049f4b5173a202e774b3eb3e64e4">player_info::max_health</a></div><div class="ttdeci">int max_health</div><div class="ttdoc">Max health of the player.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00052">player.h:52</a></div></div>
<div class="ttc" id="astructanimated__sprite_html_a60942b8022b517bd8e867ef158575949"><div class="ttname"><a href="structanimated__sprite.html#a60942b8022b517bd8e867ef158575949">animated_sprite::frames</a></div><div class="ttdeci">sprite_t ** frames</div><div class="ttdoc">Array of sprites.</div><div class="ttdef"><b>Definition:</b> <a href="sprites_8h_source.html#l00043">sprites.h:43</a></div></div>
<div class="ttc" id="agroup__utils_html_ga59fb492e30882202c6383ad08c51daba"><div class="ttname"><a href="group__utils.html#ga59fb492e30882202c6383ad08c51daba">dist_positions_squared</a></div><div class="ttdeci">double dist_positions_squared(vector_t *v1, vector_t *v2)</div><div class="ttdoc">Calculates the squared distance between two positions.</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00089">utils.c:89</a></div></div>
<div class="ttc" id="agroup__pickups_html_ga3ab719ad557476cedea1f35cfb64879e"><div class="ttname"><a href="group__pickups.html#ga3ab719ad557476cedea1f35cfb64879e">add_ammo</a></div><div class="ttdeci">size_t add_ammo(vector_t *position, double radius, __uint16_t ammo_index, __uint16_t packets)</div><div class="ttdoc">Adds ammo to the pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00083">pickups.c:83</a></div></div>
<div class="ttc" id="astructrectangle_html_ad12fc34ce789bce6c8a05d8a17138534"><div class="ttname"><a href="structrectangle.html#ad12fc34ce789bce6c8a05d8a17138534">rectangle::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00066">data_types.h:66</a></div></div>
<div class="ttc" id="apickups_8c_html_af4e742befb30e3e2bdac0aeda6a8d0d1"><div class="ttname"><a href="pickups_8c.html#af4e742befb30e3e2bdac0aeda6a8d0d1">init_medi_anims</a></div><div class="ttdeci">int() init_medi_anims(pickup_t *pickup)</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00026">pickups.c:26</a></div></div>
<div class="ttc" id="apickups_8c_html_ad7715b2ee6b49a4d8524ecd2ff4fdfe4"><div class="ttname"><a href="pickups_8c.html#ad7715b2ee6b49a4d8524ecd2ff4fdfe4">pickups</a></div><div class="ttdeci">pickup_t * pickups</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00006">pickups.c:6</a></div></div>
<div class="ttc" id="agroup__pickups_html_gab9626ff0fdcef5d288391f7d524d0807"><div class="ttname"><a href="group__pickups.html#gab9626ff0fdcef5d288391f7d524d0807">pickup_index</a></div><div class="ttdeci">_Bool() pickup_index(player_info_t *player, unsigned index)</div><div class="ttdoc">Picks up an item with a given index.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00336">pickups.c:336</a></div></div>
<div class="ttc" id="astructgun_html_adc088a782934cc61fb7b596465c4cbed"><div class="ttname"><a href="structgun.html#adc088a782934cc61fb7b596465c4cbed">gun::max_packets</a></div><div class="ttdeci">unsigned short max_packets</div><div class="ttdoc">Max ammo packets in the inventory.</div><div class="ttdef"><b>Definition:</b> <a href="gun_8h_source.html#l00056">gun.h:56</a></div></div>
<div class="ttc" id="astructgun__instance_html_a34f2dc075863a580911c1efc606dc222"><div class="ttname"><a href="structgun__instance.html#a34f2dc075863a580911c1efc606dc222">gun_instance::curr_packets</a></div><div class="ttdeci">unsigned short curr_packets</div><div class="ttdoc">Current ammo packets in inventory.</div><div class="ttdef"><b>Definition:</b> <a href="gun_8h_source.html#l00089">gun.h:89</a></div></div>
<div class="ttc" id="astructplayer__info_html_ad943e3663b5c7772d106b05ba4dc564b"><div class="ttname"><a href="structplayer__info.html#ad943e3663b5c7772d106b05ba4dc564b">player_info::inventory_size</a></div><div class="ttdeci">int inventory_size</div><div class="ttdoc">Player inventory size.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00068">player.h:68</a></div></div>
<div class="ttc" id="astructplayer__info_html_a9a0fc011b15e16961710c8af3980e9b3"><div class="ttname"><a href="structplayer__info.html#a9a0fc011b15e16961710c8af3980e9b3">player_info::armor</a></div><div class="ttdeci">int armor</div><div class="ttdoc">Armor of the player.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00054">player.h:54</a></div></div>
<div class="ttc" id="astructcoordinate_html"><div class="ttname"><a href="structcoordinate.html">coordinate</a></div><div class="ttdoc">Structure that representes positive coordinates Good to use as a screen position.</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00025">data_types.h:25</a></div></div>
<div class="ttc" id="astructmedkit_html_ac78fc29c874c0e4fce7b41a68c793515"><div class="ttname"><a href="structmedkit.html#ac78fc29c874c0e4fce7b41a68c793515">medkit::health</a></div><div class="ttdeci">__uint16_t health</div><div class="ttdoc">Health to be added to the player.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00090">pickups.h:90</a></div></div>
<div class="ttc" id="apickups_8c_html_aaeb4aa73f13d938a388e78ef44a3b279"><div class="ttname"><a href="pickups_8c.html#aaeb4aa73f13d938a388e78ef44a3b279">pickup_medkit</a></div><div class="ttdeci">static _Bool() pickup_medkit(player_info_t *player, void *pickup_det)</div><div class="ttdoc">Pickup handler for medkit pickups. Overrides virtual function.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8c_source.html#l00103">pickups.c:103</a></div></div>
<div class="ttc" id="astructvector_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structvector.html#ab927965981178aa1fba979a37168db2a">vector::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="data__types_8h_source.html#l00018">data_types.h:18</a></div></div>
<div class="ttc" id="astructammo_html"><div class="ttname"><a href="structammo.html">ammo</a></div><div class="ttdoc">struct that represents the ammo pickups.</div><div class="ttdef"><b>Definition:</b> <a href="pickups_8h_source.html#l00074">pickups.h:74</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e8522150b400a43ebfdbd1fed060b8e2.html">system</a></li><li class="navelem"><a class="el" href="dir_3f3c19929cb21569343ba8d9c17237ba.html">pickups</a></li><li class="navelem"><a class="el" href="pickups_8c.html">pickups.c</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
